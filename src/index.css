@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smooth scroll styles */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 80px; /* Отступ для фиксированной шапки */
}

/* Улучшенный плавный скролл для всех браузеров */
* {
  scroll-behavior: smooth;
}

/* Оптимизация производительности скролла */
body {
  -webkit-overflow-scrolling: touch;
  overflow-x: hidden;
  scroll-behavior: smooth;
}

/* Глассморфизм эффекты */
.glassmorphism {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
}

.glassmorphism-dark {
  background: rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

/* Плавный скролл для якорных ссылок */
@media (max-width: 768px) {
  html {
    scroll-padding-top: 60px; /* Меньший отступ для мобильных */
  }
}

/* Дополнительные стили для плавного скролла */
.smooth-scroll {
  scroll-behavior: smooth;
}

/* Улучшенная производительность анимаций */
* {
  will-change: auto;
}

/* Оптимизация для мобильных устройств */
@media (max-width: 768px) {
  /* УБРАНО: глобальный translateZ(0) ломал position: fixed/sticky у модалок и меню */
}

/* Стили для чат-бота на мобильных */
@media (max-width: 768px) {
  .chatbot-mobile {
    height: 100vh;
    height: 100dvh;
  }
  
  .chatbot-input-mobile {
    position: sticky;
    bottom: 0;
    background: white;
    border-top: 1px solid #e5e7eb;
    padding: 1rem;
  }
  
  .chatbot-messages-mobile {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Стили для мобильного меню - off-canvas */
  .mobile-menu-offcanvas {
    height: 100vh;
    height: 100dvh;
    max-height: 100vh;
    max-height: 100dvh;
    overflow: hidden;
    touch-action: none;
  }
  
  .mobile-menu-content {
    height: 100%;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

/* Анимация бегущей строки */
@keyframes scroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

.animate-scroll {
  animation: scroll 30s linear infinite;
}

.hover\:pause-scroll:hover {
  animation-play-state: paused;
}

/* Обратная анимация */
@keyframes scroll-reverse {
  0% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0);
  }
}

.animate-scroll-reverse {
  animation: scroll-reverse 25s linear infinite;
}

/* Новые анимации для marquee */
@keyframes marquee-left {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

@keyframes marquee-right {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(0%);
  }
}

.animate-marquee-left {
  animation: marquee-left 40s linear infinite;
}

.animate-marquee-right {
  animation: marquee-right 35s linear infinite;
}

/* Паузы при ховере */
.animate-marquee-left:hover,
.animate-marquee-right:hover {
  animation-play-state: paused;
}

/* Адаптивная скорость для мобильных устройств */
@media (max-width: 640px) {
  .animate-scroll {
    animation-duration: 15s;
  }
  
  .animate-scroll-reverse {
    animation-duration: 12s;
  }
}

@media (min-width: 641px) and (max-width: 768px) {
  .animate-scroll {
    animation-duration: 20s;
  }
  
  .animate-scroll-reverse {
    animation-duration: 15s;
  }
}

/* Дополнительные стили для плавного скролла на мобильных */
@media (max-width: 768px) {
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
  
  /* Оптимизация производительности для мобильных */
  .animate-scroll,
  .animate-scroll-reverse {
    will-change: transform;
    transform: translateZ(0);
  }
  
  /* Улучшенная производительность скролла на мобильных */
  /* УБРАНО: глобальный translateZ(0) и backface-visibility ломали позиционирование fixed/sticky */
  
  /* Оптимизация для touch устройств */
  body {
    touch-action: pan-y;
  }
}

/* Дополнительные стили для очень маленьких экранов */
@media (max-width: 480px) {
  .animate-scroll {
    animation-duration: 12s;
  }
  
  .animate-scroll-reverse {
    animation-duration: 10s;
  }
  
  /* Уменьшаем отступы для очень маленьких экранов */
  html {
    scroll-padding-top: 50px;
  }
}
